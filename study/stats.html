<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Stats Notes</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Comfortaa:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root { --pink:#B00B55; --black:#0f0f0f; --white:#fff; --panel:#161616; }
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Inter',sans-serif;background:radial-gradient(circle at top,#1b1b1b,var(--black));color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:3rem;}
h1{font-family:'Comfortaa',sans-serif;font-size:2.5rem;margin-bottom:1rem;color:#eaeaea;}
.links{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.3rem;width:100%;max-width:700px;}
.link-card{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;background:var(--panel);border:1px solid #242424;border-radius:12px;text-decoration:none;color:#fff;font-size:1rem;font-weight:600;transition: transform .2s ease,box-shadow .2s ease,border-color .2s ease;cursor:pointer;}
.link-card img{max-width:100%;height:auto;border-radius:6px;margin-bottom:0.6rem;}
.link-card:hover{transform:translateY(-3px);border-color:var(--pink);box-shadow:0 10px 24px rgba(176,11,85,0.25);}
.home-link{margin-top:2rem;color:var(--pink);text-decoration:none;font-weight:600;}
.home-link:hover{text-decoration:underline;}
#overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);flex-direction:column;align-items:center;justify-content:center;z-index:1000;}
#overlay img{max-width:90%;max-height:80%;margin-bottom:1rem;border-radius:8px;}
#overlay p{color:#fff;margin-bottom:2rem;font-size:1.2rem;}
#close-btn{position:absolute;top:2rem;right:2rem;padding:0.6rem 1rem;background:var(--panel);border:1px solid #242424;color:#fff;cursor:pointer;border-radius:6px;}
</style>
</head>
<body>

<h1>Stats Notes</h1>
<div class="links" id="notes-container"></div>
<a href="notes.html" class="home-link">‚Üê Back to Classes</a>

<div id="overlay">
  <button id="close-btn">Back</button>
  <img id="overlay-img">
  <p id="overlay-title"></p>
</div>

<script>
const container = document.getElementById('notes-container');
let statsNotes = [];
let currentIndex = null;

// Load JSON automatically
fetch('notes/stats/stats.json')
  .then(res => res.json())
  .then(files => {
    statsNotes = files;
    statsNotes.forEach((file, index) => {
      const filename = `notes/stats/${file}`;
      const img = new Image();
      img.src = filename;
      img.onload = () => {
        const card = document.createElement('div');
        card.className = 'link-card';
        const title = document.createElement('p');
        title.textContent = file.replace('.png','');
        card.appendChild(img);
        card.appendChild(title);
        container.appendChild(card);

        card.addEventListener('click', () => openOverlay(index));
      };
      img.onerror = () => console.warn(`Image not found: ${filename}`);
    });
  })
  .catch(err => console.error("Failed to load JSON:", err));

function openOverlay(index){
  currentIndex=index;
  document.getElementById('overlay-img').src = `notes/stats/${statsNotes[currentIndex]}`;
  document.getElementById('overlay-title').textContent = statsNotes[currentIndex].replace('.png','');
  document.getElementById('overlay').style.display='flex';
}

function closeOverlay(){
  document.getElementById('overlay').style.display='none';
  currentIndex=null;
}

// Close button
document.getElementById('close-btn').addEventListener('click', closeOverlay);

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if(currentIndex === null) return;
  if(e.key==="Escape") closeOverlay();
  else if(e.key==="ArrowRight"){
    currentIndex = (currentIndex + 1) % statsNotes.length;
    openOverlay(currentIndex);
  } else if(e.key==="ArrowLeft"){
    currentIndex = (currentIndex - 1 + statsNotes.length) % statsNotes.length;
    openOverlay(currentIndex);
  }
});
</script>

</body>
</html>
