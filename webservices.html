<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Services – William MacLean</title>
<link rel="canonical" href="https://williammaclean.ca/webservices.html">
<link rel="icon" type="image/png" href="logo.png">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Comfortaa:wght@500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --pink:#B00B55;
  --black:#0f0f0f;
  --white:#fff;
  --gray:#b5b5b5;
  --panel:#161616;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:Inter,sans-serif;
  background:radial-gradient(circle at top,#1b1b1b,var(--black));
  color:#fff;
}

footer{
  width:100%;
  text-align:left;
  color:#8a8a8a;
  font-size:.85rem;
  margin:3rem 0 2rem;
}

  
.container{
  max-width:1200px;
  margin:0 auto;
  padding:4rem 2rem;
  text-align:center;
}

/* HOME BUTTON — UNCHANGED */
.home-button{
  display:inline-block;
  margin-bottom:2.5rem;
  padding:.8rem 1.6rem;
  border-radius:14px;
  background:var(--panel);
  border:1px solid #242424;
  color:#fff;
  font-weight:600;
  text-decoration:none;
  transition:.2s;
}
.home-button:hover{
  transform:translateY(-4px);
  border-color:var(--pink);
  box-shadow:0 12px 30px rgba(176,11,85,.25);
}

h1{
  font-family:Comfortaa,sans-serif;
  font-size:3rem;
  margin-bottom:.5rem;
}
.subtitle{color:var(--gray);margin-bottom:2.5rem}

/* MAIN SPLIT */
.builder{
  display:grid;
  grid-template-columns:1fr 420px;
  gap:2.5rem;
  text-align:left;
}
@media(max-width:900px){
  .builder{grid-template-columns:1fr}
}

/* OFFERS */
.offers{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,300px));
  gap:1.5rem;
  justify-content:center;
  margin-bottom:2.5rem;
}

.offer-card{
  background:var(--panel);
  border:1px solid #242424;
  border-radius:14px;
  padding:1.6rem;
  cursor:pointer;
  position:relative;
  transition:.2s;
}
.offer-card:hover{
  transform:translateY(-4px);
  border-color:var(--pink);
  box-shadow:0 12px 30px rgba(176,11,85,.25);
}
.offer-card.selected{border-color:var(--pink)}

.offer-card h3{
  color:var(--pink);
  font-family:Comfortaa,sans-serif;
  margin-bottom:.4rem;
}

.price{font-weight:600;margin-top:.6rem}

.qty-wrapper{display:none;margin-top:.8rem}
.offer-card.selected .qty-wrapper{display:block}

.qty-wrapper input{
  width:100%;
  padding:.6rem;
  background:#1f1f1f;
  border:1px solid #2a2a2a;
  color:#fff;
  border-radius:8px;
}

.selected-label{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  background:var(--pink);
  font-size:.75rem;
  padding:3px 10px;
  border-radius:6px;
  display:none;
}
.offer-card.selected .selected-label,
.billing-card.selected .selected-label{display:block}

/* BILLING — UNCHANGED */
.billing-cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1.2rem;
  max-width:700px;
  margin:0 auto 2.5rem;
}

.billing-card{
  background:var(--panel);
  border:1px solid #242424;
  border-radius:14px;
  padding:1.4rem;
  cursor:pointer;
  position:relative;
  transition:.2s;
}
.billing-card:hover{
  transform:translateY(-4px);
  border-color:var(--pink);
  box-shadow:0 12px 30px rgba(176,11,85,.25);
}
.billing-card.selected{border-color:var(--pink)}

.billing-card h3{
  font-family:Comfortaa,sans-serif;
  color:var(--pink);
  margin-bottom:.4rem;
}

/* RIGHT SIDE */
.side{
  display:flex;
  flex-direction:column;
  gap:2rem;
}

  .client-stat{
  background:var(--panel);
  border:1px solid #242424;
  border-radius:14px;
  padding:1rem 1.2rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:.9rem;
}

.client-stat .label{
  color:var(--gray);
}

.client-stat .value{
  font-weight:700;
  color:var(--pink);
  font-size:1.1rem;
}

  .status-dot{
  display:inline-block;
  width:8px;
  height:8px;
  border-radius:50%;
  background:var(--pink);
  margin-right:6px;
  animation:pulse 1.6s ease-in-out infinite;
}

@keyframes pulse{
  0%   { opacity: .25; }
  50%  { opacity: 1; }
  100% { opacity: .25; }
}


/* TOTAL */
.total{
  background:var(--panel);
  border:1px solid #242424;
  border-radius:16px;
  padding:1.6rem;
}
.total-row{
  display:flex;
  justify-content:space-between;
  color:var(--gray);
}
.total-row strong{color:#fff}
.total-row.highlight{
  border-top:1px solid #2a2a2a;
  margin-top:.6rem;
  padding-top:.6rem;
  font-size:1.15rem;
}
.total-row.highlight strong{color:var(--pink)}

/* FORM */
form{
  background:var(--panel);
  padding:2.2rem;
  border-radius:16px;
  border:1px solid #242424;
  margin-top:1.5rem; /* spacing from totals */
}

form h2{
  font-family:Comfortaa,sans-serif;
  margin-bottom:1.2rem;
}

input,textarea{
  width:100%;
  padding:.9rem;
  margin-bottom:1rem;
  border-radius:10px;
  border:1px solid #2a2a2a;
  background:#1f1f1f;
  color:#fff;
}

button{
  width:100%;
  padding:.9rem;
  border-radius:12px;
  border:1px solid var(--pink);
  background:var(--pink);
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

    .promo input{
  height:50px;
  padding:.35rem .6rem;
}


.promo button{
  width:auto !important;
  padding:2px 10px !important;   /* controls vertical height */
  height:50px;                   /* hard cap */
  line-height:1;                 /* kills extra vertical space */
  font-size:.78rem;
  border-radius:6px;
  font-weight:600;
}

/* MOBILE FIX */
@media (max-width: 600px) {

  .container {
    padding: 2.5rem 1.2rem;
  }

  h1 {
    font-size: 2.2rem;
  }

  .offers {
    grid-template-columns: 1fr; /* SINGLE COLUMN */
    gap: 1.2rem;
  }

  .offer-card {
    padding: 1.4rem;
  }

  .offer-card h3 {
    font-size: 1.1rem;
  }

  .price {
    font-size: .95rem;
  }

  .qty-wrapper input {
    padding: .7rem;
    font-size: .95rem;
  }


  .selected-label {
    bottom: 8px;
    font-size: .7rem;
  }

  /* Billing cards stack nicer */
  .billing-cards {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  /* Right column spacing */
  .side {
    gap: 1.5rem;
  }

  form {
    padding: 1.6rem;
  }
}

  
</style>
</head>

<body>
<div class="container">

<a href="index.html" class="home-button">Home</a>

<h1>Build Your Order</h1>
<p class="subtitle">Select features & quantities. Choose a billing plan to save. Payment due after completion.</p>

<div class="builder">

<!-- LEFT SIDE -->
<div>

<div class="offers">

<div class="offer-card" id="website-card" data-name="Website" data-price="4.00">
  <h3>Website</h3>
  <p>Custom website with a landing page.</p>
  <div class="price">$4.00 per month</div><br>
  <div class="selected-label">Added</div>
</div>

<div class="offer-card" data-name="Extra Pages" data-price="0.75" data-qty="true">
  <h3>Extra Pages</h3>
  <p>Additional custom web pages.</p>
  <div class="price">$1.00 × page</div>
  <div class="qty-wrapper"><input type="number" min="1" value="1"></div>
  <div class="selected-label">Added</div>
</div>

<div class="offer-card" data-name="Forms" data-price="1.00" data-qty="true">
  <h3>Forms</h3>
  <p>Email forms.</p>
  <div class="price">$1.00 × form</div>
  <div class="qty-wrapper"><input type="number" min="1" value="1"></div>
  <div class="selected-label">Added</div>
</div>

  <div class="offer-card" data-name="Revisions" data-price="3.00" data-qty="true">
  <h3>Monthly Revisions</h3>
  <p>Pre covered revisions.</p><br>
  <p>Extra revisions - $10.00 each.</p>
  <p>Small fixes are free.</p>
  <div class="price">$3.00 × Revision per month</div><br>
  <div class="qty-wrapper"><input type="number" min="1" value="1"></div>
  <div class="selected-label">Added</div>
</div>

<div class="offer-card" id="domain-card" data-name="Custom Domain" data-price="4.00">
  <h3>Custom Domain</h3>
  <p>Your own domain.</p>
  <p>Billed Annually.</p>
  <div class="price">$4.00 per month</div>
  <div class="selected-label">Added</div>
</div>

<div class="offer-card" data-name="Receive Custom Email" data-price="0.50">
  <h3>Receive Custom Email</h3>
  <p>Receive emails sent to custom email address</p>
  <br>
  <p>you@your-name.ca</p>
  <div class="price">$0.50 per month</div><br>
  <div class="selected-label">Added</div>
</div>

<div class="offer-card" data-name="Send Custom Email" data-price="1.00">
  <h3>Send Custom Email</h3>
  <p>Send emails from custom email address.</p>
  <br>
  <p>you@your-name.ca</p>
  <div class="price">$1.00 per month</div><br>
  <div class="selected-label">Added</div>
</div>

  <div class="offer-card" data-name="Business Cards" data-price="43.94" data-onetime="true">
  <h3>Business Cards</h3>
  <p>Custom designed business cards.</p>
  <div class="price">$43.94 one-time</div>
  <div class="selected-label">Added</div>
</div>


</div>

<div class="billing-cards">
  <div class="billing-card selected" data-discount="0">
    <h3>Quarterly</h3>
    <p>Billed Quarterly</p><br>
    <p>No discount</p><br>
    <div class="selected-label">Selected</div>
  </div>
  <div class="billing-card" data-discount="8">
    <h3>Semi-Annually</h3>
    <p>Billed Semi-Annually</p><br>
    <p>Applies to non-domain monthly items</p><br>
    <p>Save 8%</p><br>
    <div class="selected-label">Selected</div>
  </div>
  <div class="billing-card" data-discount="20">
    <h3>Annually</h3>
    <p>Billed Annually</p><br>
    <p>Applies to non-domain monthly items</p><br>
    <p>Save 20%</p><br>
    <div class="selected-label">Selected</div>
  </div>
</div>

</div>

<!-- RIGHT SIDE -->
<div class="side">

  <div class="client-stat">
  <span class="label">Active Clients</span>
  <span class="value">
  <span class="status-dot"></span> 2
</span>


</div>


<div class="total">
  <div class="total-row">
    <span>One-Time</span>
    <strong>$<span id="oneTimeTotal">0.00</span></strong>
  </div>

  <div class="total-row">
    <span>Monthly</span>
    <strong>$<span id="monthlyTotal">0.00</span></strong>
  </div>
  
  <div class="total-row highlight">
    <span>Total One-Time</span>
    <span id="oneTimeTotalDisplay">0.00</span></strong>
  </div>

  <div class="total-row highlight">
    <span>Monthly After Discount</span>
    <strong>$<span id="discountedTotal">0.00</span></strong>
  </div>

  <div class="promo">
  <label style="font-size:.9rem;color:var(--gray);">Promo Code</label>
  <div style="display:flex;gap:.6rem;margin-top:.4rem;">
    <input id="promoInput" placeholder="Enter code">
    <button type="button" id="applyPromo">Apply</button>
  </div>
  <div id="promoMessage" style="margin-top:.5rem;font-size:.85rem;"></div>
</div>


  <form id="orderForm">

  <h2>Send Request</h2>
  <input name="name" placeholder="Your Name" required>
  <input type="email" name="email" placeholder="Your Email" required>
  <textarea name="notes" placeholder="Extra notes"></textarea>

  
  <input type="hidden" name="services" id="servicesField">

  <input type="hidden" name="one_time_total" id="oneTimeField">
<input type="hidden" name="monthly_total" id="monthlyField">
<input type="hidden" name="discounted_total" id="discountedField">
<input type="hidden" name="billing_option" id="billingField">

<input type="hidden" name="promo_code" id="promoField">


<div id="sentMessage" style="display:none;margin-top:1rem;color:#6fff9f;font-weight:600;">
 ✓ Sent
</div>

  <button type="submit">Send Request</button>
</form>

</div>
</div>

<footer>© 2026 William MacLean</footer>
  
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCA51Bs-kNXbNuwbnzJqVuYW9aUQMSAjhE",
    authDomain: "form-8752f.firebaseapp.com",
    databaseURL: "https://form-8752f-default-rtdb.firebaseio.com",
    projectId: "form-8752f",
    storageBucket: "form-8752f.appspot.com",
    messagingSenderId: "615040867765",
    appId: "1:615040867765:web:b9f2ec8bb46de6d035cdfc"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>

<script>
const cards=document.querySelectorAll('.offer-card');
const billingCards=document.querySelectorAll('.billing-card');
const website=document.getElementById('website-card');
const domain=document.getElementById('domain-card');

let discount=0;

function dependentsSelected(names){
  return [...cards].some(c=>c.classList.contains('selected') && names.includes(c.dataset.name));
}

let promoDiscount = 0;
let promoType = null;
let appliedPromo = "";
  
function calculate(){
  let monthlyDiscountable = 0;   // billing discount eligible
  let monthlyPromoEligible = 0; // promo eligible (NO domain)
  let monthlyDomain = 0;        // domain only
  let oneTime = 0;

  cards.forEach(card => {
    if (!card.classList.contains('selected')) return;

    const price = parseFloat(card.dataset.price);
    const qty = card.querySelector('input')?.value || 1;
    const total = price * qty;

    if (card.dataset.onetime === "true") {
      oneTime += total;
    }
    else if (card.id === "domain-card") {
      monthlyDomain += total; // NO billing discount, NO promo
    }
    else {
      monthlyDiscountable += total;   // billing discount applies
      monthlyPromoEligible += total;  // promo applies
    }
  });

  // APPLY BILLING DISCOUNT FIRST
  const billingAdjusted =
    (monthlyDiscountable * (1 - discount / 100));

  // APPLY PROMO ONLY TO ELIGIBLE ITEMS
  let promoAdjusted = monthlyPromoEligible;

  if (promoType === "percent") {
    promoAdjusted *= (1 - promoDiscount / 100);
  }

  if (promoType === "flat") {
    promoAdjusted = Math.max(0, promoAdjusted - promoDiscount);
  }

  // FINAL MONTHLY TOTAL
  const discountedMonthly =
    promoAdjusted +
    (billingAdjusted - monthlyPromoEligible) +
    monthlyDomain;

  document.getElementById('oneTimeTotal').textContent =
  oneTime.toFixed(2);

document.getElementById('oneTimeTotalDisplay').textContent =
  oneTime.toFixed(2);


  document.getElementById('monthlyTotal').textContent =
    (monthlyDiscountable + monthlyDomain).toFixed(2);

  document.getElementById('discountedTotal').textContent =
    discountedMonthly.toFixed(2);
}


cards.forEach(card=>{
  card.addEventListener('click',e=>{
    if(e.target.tagName==='INPUT')return;

    const name=card.dataset.name;

    if(card.classList.contains('selected')){
      if(card===website && dependentsSelected(['Extra Pages','Forms','Revisions'])) return;
      if(card===domain && dependentsSelected(['Send Custom Email','Receive Custom Email'])) return;
      card.classList.remove('selected');
    } else {
      card.classList.add('selected');
      if(['Extra Pages','Forms','Revisions'].includes(name)) website.classList.add('selected');
      if(['Send Custom Email','Receive Custom Email'].includes(name)) domain.classList.add('selected');
    }
    calculate();
  });

  card.querySelector('input')?.addEventListener('input',calculate);
});

billingCards.forEach(b=>{
  b.addEventListener('click',()=>{
    billingCards.forEach(x=>x.classList.remove('selected'));
    b.classList.add('selected');
    discount=+b.dataset.discount;
    calculate();
  });
});

const form = document.getElementById('orderForm');
const sentMessage = document.getElementById('sentMessage');
  
 document.getElementById('applyPromo').addEventListener('click', async () => {
  const code = document.getElementById('promoInput').value.trim().toUpperCase();
  const msg = document.getElementById('promoMessage');

  if (!code) return;

  try {
    const res = await fetch(
      'https://omor-6878f-default-rtdb.firebaseio.com/promoCodes/' + code + '.json'
    );
    const data = await res.json();

    if (!data) {
      msg.textContent = "Invalid promo code";
      msg.style.color = "#ff6f6f";
      promoDiscount = 0;
      promoType = null;
      appliedPromo = "";
      calculate();
      return;
    }

    promoDiscount = data.value;
    promoType = data.type;
    appliedPromo = code;

    document.getElementById('promoField').value = code;

    msg.textContent =
      data.type === "percent"
        ? `✓ ${data.value}% discount applied`
        : `✓ $${data.value} discount applied`;

    msg.style.color = "#6fff9f";

    calculate();
  } catch {
    msg.textContent = "Promo error. Try again.";
    msg.style.color = "#ff6f6f";
  }
});
  
document.getElementById('promoInput').addEventListener('keydown', e => {
  if (e.key === 'Enter') {
    e.preventDefault();
    document.getElementById('applyPromo').click();
  }
});

  
form.addEventListener('submit', async (e) => {
  e.preventDefault();

  const services = [...cards]
    .filter(c => c.classList.contains('selected'))
    .map(c => {
      const qty = c.querySelector('input')?.value || 1;
      const type = c.dataset.onetime === "true" ? "one-time" : "monthly";
      return `${c.dataset.name} (${type}) x${qty}`;
    });

  const billingCard = document.querySelector('.billing-card.selected');
  const paragraphs = billingCard.querySelectorAll('p');
  const lastParagraph = paragraphs[paragraphs.length - 1].textContent;

  const orderData = {
    name: form.name.value,
    email: form.email.value,
    notes: form.notes.value || "",
    services,
    oneTimeTotal: document.getElementById('oneTimeTotal').textContent,
    monthlyTotal: document.getElementById('monthlyTotal').textContent,
    discountedTotal: document.getElementById('discountedTotal').textContent,
    billing: billingCard.querySelector('h3').textContent + ` (${lastParagraph})`,
    promoCode: appliedPromo || "",
    timestamp: Date.now()
  };

  try {
    await db.ref('orders').push(orderData);

    sentMessage.style.display = 'block';
    form.reset();

    setTimeout(() => {
      sentMessage.style.display = 'none';
    }, 4000);
  } catch (err) {
    alert("Submission failed. Please try again.");
    console.error(err);
  }
});



calculate();
</script>

</body>
</html>
