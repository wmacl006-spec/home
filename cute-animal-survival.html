<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Animal Survival</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Comfortaa:wght@500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --pink:#B00B55;
  --bg:#0f0f0f;
  --panel:#161616;
}

* { box-sizing:border-box; margin:0; padding:0; }

body {
  background:radial-gradient(circle at top,#1b1b1b,var(--bg));
  font-family:Inter,sans-serif;
  color:white;
  min-height:100vh;
  padding:2rem;
}

.container { max-width:820px; margin:auto; text-align:center; }

h1,h2 {
  font-family:Comfortaa,sans-serif;
  color:var(--pink);
}

button,input {
  background:var(--panel);
  color:white;
  border:1px solid #242424;
  padding:.8rem;
  border-radius:8px;
  margin:.25rem;
  font-size:1rem;
}

button:hover { border-color:var(--pink); cursor:pointer; }

.bar {
  width:320px;
  height:20px;
  background:#222;
  border-radius:10px;
  margin:6px auto;
  overflow:hidden;
}

.fill { height:100%; }

.animal-select {
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  margin:.75rem 0;
}

.animal-select img {
  width:64px;
  height:64px;
  margin:6px;
  border-radius:10px;
  border:2px solid transparent;
  cursor:pointer;
}

.animal-select img.selected {
  border-color:var(--pink);
}

#animalImg {
  width:150px;
  margin:.75rem 0;
}

#survivalTimer {
  font-family:Comfortaa,sans-serif;
  margin-bottom:.75rem;
}
</style>
</head>

<body>

<div class="container">
<h1>Animal Survival</h1>

<div id="loginPanel">
  <input id="passwordInput" type="password" placeholder="Create / Enter password">
  <button id="startBtn">Start</button>

  <div id="animalChoice" style="display:none;margin-top:1rem">
    <h2>Pick an animal</h2>

    <div class="animal-select">
      <img src="gamepic/cat_alive.png" data-animal="cat">
      <img src="gamepic/dog_alive.png" data-animal="dog">
      <img src="gamepic/bunny_alive.png" data-animal="bunny">
      <img src="gamepic/squirrel_alive.png" data-animal="squirrel">
      <img src="gamepic/manatee_alive.png" data-animal="manatee">
    </div>

    <input id="nicknameInput" placeholder="Pet name">
    <button id="confirmAnimalBtn">Confirm</button>
  </div>
</div>

<div id="game" style="display:none">
  <h2 id="animalName"></h2>
  <div id="survivalTimer">Survived: 0m 0s</div>

  <img id="animalImg">

  Hunger<div class="bar"><div id="hungerBar" class="fill" style="background:#ff69b4;width:100%"></div></div>
  Thirst<div class="bar"><div id="thirstBar" class="fill" style="background:#7b1fa2;width:100%"></div></div>
  Health<div class="bar"><div id="healthBar" class="fill" style="background:#B00B55;width:100%"></div></div>

  <div id="gameControls">
    <button id="feedBtn">Feed</button>
    <button id="drinkBtn">Drink</button>
  </div>

  <button id="tryAgainBtn" style="display:none">Try Again</button>
</div>
</div>

<script>
const $ = id => document.getElementById(id);

const images = {
  cat:{alive:"gamepic/cat_alive.png",dead:"gamepic/cat_dead.png"},
  dog:{alive:"gamepic/dog_alive.png",dead:"gamepic/dog_dead.png"},
  bunny:{alive:"gamepic/bunny_alive.png",dead:"gamepic/bunny_dead.png"},
  squirrel:{alive:"gamepic/squirrel_alive.png",dead:"gamepic/squirrel_dead.png"},
  manatee:{alive:"gamepic/manatee_alive.png",dead:"gamepic/manatee_dead.png"}
};

let selectedAnimal, startTime, loop;

document.querySelectorAll(".animal-select img").forEach(img=>{
  img.onclick=()=>{
    selectedAnimal=img.dataset.animal;
    document.querySelectorAll(".animal-select img").forEach(i=>i.classList.remove("selected"));
    img.classList.add("selected");
  };
});

$("startBtn").onclick=()=>{
  $("animalChoice").style.display="block";
};

$("confirmAnimalBtn").onclick=()=>{
  if(!selectedAnimal) return;
  $("loginPanel").style.display="none";
  $("game").style.display="block";
  $("animalName").innerText=selectedAnimal;
  $("animalImg").src=images[selectedAnimal].alive;
  startTime=Date.now();
  loop=setInterval(tick,1000);
};

function tick(){
  const s=Math.floor((Date.now()-startTime)/1000);
  $("survivalTimer").innerText=`Survived: ${Math.floor(s/60)}m ${s%60}s`;
}

</script>
</body>
</html>
